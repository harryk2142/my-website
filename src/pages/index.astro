---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION_SHORT } from "../consts";
import { getCollection } from "astro:content";
const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
const latestPost = posts[0];
import FormattedDate from "../components/FormattedDate.astro";
import BreakingNewsTicker from "../components/BreakingNewsTicker.astro";
import Main from "../components/Main.astro";
---

<!DOCTYPE html>
<html lang="de">
  <head>
    <BaseHead
      title={SITE_TITLE}
      description={SITE_DESCRIPTION_SHORT}
      image={"icons/favicon-96x96.png"}
      type={"website"}
    />
  </head>
  <body>
    <Header title={SITE_TITLE} />
    <Main>
      <article id="breaking-news-ticker">
        <BreakingNewsTicker />
      </article>
      <hr />
      <div class="flex">
        <div class="s12 m8 l6 xl6">
          <section id="latest-post">
            <h2>LATEST POST</h2>
            <a href={`/blog/${latestPost.slug}/`}>
              <article class="blog-post">
                {
                  latestPost.data.blogPostImage && (
                    <section class="post-image">
                      <img
                        src={"/images/blog/" + latestPost.data.blogPostImage}
                        alt={latestPost.data.description}
                      />
                      <div class="image-overlay" />
                    </section>
                  )
                }
                <section class="post-content">
                  <p class="post-title">{latestPost.data.title}</p>
                  <p><FormattedDate date={latestPost.data.pubDate} /></p>
                </section>
              </article>
            </a>
          </section>
        </div>
        <div class="s12 m4 l6 xl6">
          <section id="latest-post-list">
            <h2>More</h2>
            <div class="">
              {
                posts.slice(1, 4).map((post) => (
                  <div class="">
                    <a href={`/blog/${post.slug}/`}>
                      <div class="flex latest-post-list-item">
                        {post.data.blogPostImage && (
                          <div class="s4 m12 l4">
                            <img
                              class="latest-post-list-item-img"
                              src={"/images/blog/" + post.data.previewImage}
                              alt={post.data.description}
                            />
                          </div>
                        )}

                        <div class="s8 m12 l8">
                          <div class="latest-post-list-item-content">
                            <p class="latest-post-list-item-date">
                              <FormattedDate date={post.data.pubDate} />
                            </p>
                            <p>{post.data.title}</p>
                          </div>
                        </div>
                      </div>
                    </a>
                  </div>
                ))
              }
            </div>
            <section id="zu-weiteren-posts" class="primary">
              <a id="zu-weiteren-posts-button" href="/blog">
                <div>Zu weiteren Posts</div>
              </a>
            </section>
          </section>
        </div>
      </div>
    </Main>
    <Footer />
    <style>
      #breaking-news-ticker {
        margin-top: 5rem;
      }
      @media screen and (max-width: 600px) {
        #breaking-news-ticker {
          margin-top: 6rem;
        }
      }
      #zu-weiteren-posts {
        background-color: #333;
        text-align: center;
        padding-top: 2rem;
        padding-bottom: 2rem;
      }
      #zu-weiteren-posts-button,
      #zu-weiteren-posts-button:visited {
        color: #fff;
      }
      .latest-post-list-item-date {
        font-size: 14px;
        color: cadetblue;
      }
      #latest-post,
      #latest-post-list {
        margin-left: 10px;
        margin-right: 10px;
      }
      .blog-post {
        position: relative;
        box-shadow: 0 14px 10px 0 rgba(0, 0, 0, 0.2);
        margin-bottom: 10px;
      }

      .post-image {
        position: relative;
        aspect-ratio: 1 / 1;
      }

      .post-title {
        font-size: large;
        font-weight: bold;
      }

      .post-image img {
        width: 100%;
        height: auto;
      }

      .image-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          to bottom,
          rgba(0, 0, 0, 0),
          rgba(0, 0, 0, 1)
        );
      }

      .post-content {
        position: absolute;
        bottom: 10px;
        left: 20px;
        text-align: left;
        color: #fff; /* Weiße Farbe für den Text */
        z-index: 1;
        word-wrap: break-word;
      }

      .latest-post-list-item-img {
        padding: 10px;
      }
      .latest-post-list-item {
        box-shadow: 0 14px 6px 0 rgba(0, 0, 0, 0.2);
        margin-bottom: 10px;
      }
      .latest-post-list-item-content {
        padding: 10px;
      }
    </style>
  </body><!-- 


  <!DOCTYPE html>
<html>
<head>
	<title>Blog Startseite</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			font-family: Arial, sans-serif;
		}
		
		header {
			background-color: #333;
			color: #fff;
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			height: 50px;
			padding: 10px;
		}
		
		nav {
			float: right;
			margin-top: 10px;
		}
		
		nav ul {
			list-style-type: none;
			margin: 0;
			padding: 0;
		}
		
		nav li {
			display: inline-block;
			margin-left: 20px;
		}
		
		main {
			margin-top: 70px;
			padding: 20px;
		}
		
		h1 {
			font-size: 36px;
			margin-bottom: 20px;
		}
		
		h2 {
			font-size: 24px;
			margin-bottom: 10px;
		}
		
		img {
			max-width: 100%;
			height: auto;
			display: block;
			margin-bottom: 10px;
		}
		
		.post {
			margin-bottom: 20px;
			
			border-bottom: 1px solid #ccc;
			
			padding-bottom: 20px;
			
			display:flex; 
  			flex-wrap:no-wrap; 
  			align-items:center; 
  			gap:.5rem; 
  			width:auto; 
  			height:auto; 
  			max-width:none; 
  			max-height:none; 
  			min-width:none; 
  			min-height:none; 
  			flex-direction:flex-row; 
  			flex-flow:none; 
  			order:none; 
  			flex-grow:none; 
  			flex-shrink:none; 
  			flex-basis:auto; 
  			align-self:auto; 
  			box-sizing:border-box; 
  			border-radius:none; 
  			border-style:none; 
  			border-color:none; 
  			border-width:none; 
  			background-color:none; 
  			color:#000000
  		}
  		
  		.post img {
  		    width:auto !important; 
  		    height:auto !important;  
  		    max-width:none !important;  
  		    max-height:none !important;  
  		    min-width:none !important;  
  		    min-height:none !important
  		}
  		
  		.post .post-title {
  		    font-size:24px !important
  		}
  		
  		.post .post-content {
  		    font-size:16px !important
  		}
  		
  		h3 {
  		    font-size:18px !important
  		}
  		
  		h4 {
  		    font-size:16px !important
  		}
		
  		h5 {
  		    font-size:14px !important
  		}
  		
  		h6 {
  		    font-size:12px !important
  		}

  		h2 a,
  		h3 a,
  		h4 a,
  		h5 a,
  		h6 a {
  		    color:#000000 !important
  		}

  		h2 a:hover,
  		h3 a:hover,
  		h4 a:hover,
  		h5 a:hover,
  		h6 a:hover {
  		    color:#ff0000 !important
  		}

        footer{
            position:absolute;
            bottom:-100%;
            width:auto;
            height:auto;
            background-color:#333333;
            color:#ffffff;

        }
        
        .footer-container{
            display:flex;

        }
        
        .footer-container p{
            margin-left:auto;

        }
        
        .footer-container ul{
            list-style-type:none;

        }
        
        .footer-container li{
            display:inline-block;

        }
        
        .footer-container li:not(:last-child){
            margin-right:.5rem;

        }
        
        .footer-container a{
            color:#ffffff;

        }
        
        .footer-container a:hover{
            color:#ff0000;

        }

    </style>
</
 -->
</html>
